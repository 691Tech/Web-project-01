<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LoadsoR Logistics Platform</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        /* Custom Scrollbar for nicer look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Custom Colors matches React App */
        .bg-theme { background-color: #409183; }
        .text-theme { color: #409183; }
        .hover-bg-theme:hover { background-color: #357a6e; }
        .border-theme { border-color: #409183; }
        .focus-ring-theme:focus { --tw-ring-color: #409183; }
    </style>
</head>
<body class="min-h-screen bg-gray-50 font-sans text-gray-800 flex flex-col">

    <!-- Navbar -->
    <nav class="flex items-center justify-between px-6 py-4 bg-white shadow-sm sticky top-0 z-40">
        <!-- Logo -->
        <div class="flex items-center gap-2 cursor-pointer" onclick="switchView('home')">
            <div class="relative">
                <i data-lucide="truck" class="w-8 h-8 text-[#E86C3F]"></i>
                <div class="absolute -bottom-1 -right-1 bg-green-600 w-3 h-3 rounded-full border-2 border-white"></div>
            </div>
            <div class="flex flex-col leading-none">
                <span class="font-bold text-lg text-[#E86C3F] tracking-tighter">LOADSOR</span>
                <span class="text-[0.6rem] text-gray-400 font-mono">LOGISTICS</span>
            </div>
        </div>

        <!-- Desktop Menu -->
        <div class="hidden md:flex items-center gap-6 text-sm font-medium text-gray-600">
            <a href="#" onclick="if(isLoggedIn) switchView('dashboard')" class="hover:text-[#409183]" id="nav-dashboard">Dashboard</a>
            <a href="#" class="hover:text-[#409183]">Load Posts</a>
            <div class="flex items-center gap-1 cursor-pointer hover:text-[#409183]">Verifications <i data-lucide="chevron-down" class="w-3 h-3"></i></div>
            <div class="flex items-center gap-1 cursor-pointer hover:text-[#409183]">Tracking <i data-lucide="chevron-down" class="w-3 h-3"></i></div>
            <a href="#" class="hover:text-[#409183]">Check Challan</a>
            <div class="flex items-center gap-1 cursor-pointer hover:text-[#409183]">More <i data-lucide="chevron-down" class="w-3 h-3"></i></div>
        </div>

        <!-- Auth Buttons -->
        <div class="hidden md:flex items-center gap-3" id="auth-buttons-container">
            <!-- Content injected by JS -->
        </div>

        <!-- Mobile Menu Icon -->
        <div class="md:hidden">
            <button onclick="toggleMobileMenu()">
                <i data-lucide="menu" class="text-gray-600"></i>
            </button>
        </div>
    </nav>

    <!-- Mobile Dropdown -->
    <div id="mobile-menu" class="hidden absolute top-16 left-0 w-full bg-white shadow-lg py-4 px-6 flex flex-col gap-4 md:hidden border-t border-gray-100 z-50">
        <div onclick="switchView('dashboard'); toggleMobileMenu()">Dashboard</div>
        <div>Load Posts</div>
        <div>Verifications</div>
        <div>Tracking</div>
        <div class="h-[1px] bg-gray-100 w-full"></div>
        <div id="mobile-auth-links" class="flex flex-col gap-3">
            <!-- Content injected by JS -->
        </div>
    </div>

    <!-- Main Layout -->
    <div class="flex flex-col lg:flex-row flex-1 relative">
        
        <!-- Left Content Area -->
        <div id="left-column" class="w-full lg:w-[55%] flex flex-col bg-white order-2 lg:order-1 min-h-[600px]">
            
            <!-- VIEW: Home / Landing Page -->
            <div id="view-home" class="flex-1 p-6 lg:p-12 flex flex-col justify-center fade-in">
                <div class="max-w-3xl mx-auto w-full">
                    <h1 class="text-2xl md:text-3xl font-bold text-gray-800 mb-8">Free Sign Up with LoadsoR</h1>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-10">
                        <!-- Cards -->
                        <div onclick="openModal('customer')" class="group bg-white border border-gray-100 rounded-3xl p-6 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col items-center text-center h-full">
                            <div class="w-24 h-24 bg-orange-100 rounded-full flex items-center justify-center mb-6 shadow-inner group-hover:scale-110 transition-transform">
                                <i data-lucide="package" class="w-10 h-10 text-gray-700"></i>
                            </div>
                            <h3 class="text-gray-800 font-bold text-lg mb-2">Customer or Shipper</h3>
                            <p class="text-gray-500 text-xs leading-relaxed px-2">Sign up to ship smarter, faster, & with complete peace of mind.</p>
                        </div>

                        <div onclick="openModal('transporter')" class="group bg-white border border-gray-100 rounded-3xl p-6 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col items-center text-center h-full">
                            <div class="w-24 h-24 bg-blue-100 rounded-full flex items-center justify-center mb-6 shadow-inner group-hover:scale-110 transition-transform">
                                <i data-lucide="briefcase" class="w-10 h-10 text-gray-700"></i>
                            </div>
                            <h3 class="text-gray-800 font-bold text-lg mb-2">Transporter or Booking Agent</h3>
                            <p class="text-gray-500 text-xs leading-relaxed px-2">Boost your transport business with reliable leads.</p>
                        </div>

                        <div onclick="openModal('operator')" class="group bg-white border border-gray-100 rounded-3xl p-6 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col items-center text-center h-full">
                            <div class="w-24 h-24 bg-yellow-100 rounded-full flex items-center justify-center mb-6 shadow-inner group-hover:scale-110 transition-transform">
                                <i data-lucide="truck" class="w-10 h-10 text-gray-700"></i>
                            </div>
                            <h3 class="text-gray-800 font-bold text-lg mb-2">Truck Operator or Fleet Owner</h3>
                            <p class="text-gray-500 text-xs leading-relaxed px-2">Scale your fleet with consistent demand & easy job management.</p>
                        </div>

                        <div onclick="openModal('broker')" class="group bg-white border border-gray-100 rounded-3xl p-6 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col items-center text-center h-full">
                            <div class="w-24 h-24 bg-red-100 rounded-full flex items-center justify-center mb-6 shadow-inner group-hover:scale-110 transition-transform">
                                <i data-lucide="map-pin" class="w-10 h-10 text-gray-700"></i>
                            </div>
                            <h3 class="text-gray-800 font-bold text-lg mb-2">Broker or Truck Supplier</h3>
                            <p class="text-gray-500 text-xs leading-relaxed px-2">Expand your network and supply more efficiently.</p>
                        </div>
                    </div>

                    <div class="flex flex-col sm:flex-row items-center gap-4">
                        <button class="w-full sm:w-auto px-10 py-3 rounded-full text-white font-medium bg-theme hover-bg-theme transition-colors">Free Sign Up</button>
                        <span class="text-sm text-gray-500">
                            Already have an account with LoadsoR? <button onclick="switchView('signin')" class="text-blue-500 font-medium hover:underline">Log In</button>
                        </span>
                    </div>
                </div>
            </div>

            <!-- VIEW: Sign In -->
            <div id="view-signin" class="hidden flex-1 p-6 lg:p-12 flex flex-col justify-center items-center fade-in">
                <div class="w-full max-w-md">
                    <h1 class="text-2xl font-bold text-gray-800 mb-8">Sign In with LoadsoR</h1>
                    
                    <form onsubmit="handleLogin(event)" class="space-y-5">
                        <div class="w-full">
                            <label class="block text-xs font-semibold text-gray-500 mb-1">Mobile No. <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <span class="absolute left-3 top-2.5 text-lg">ðŸ‡®ðŸ‡³</span>
                                <input type="tel" required placeholder="+91 Mobile No." class="w-full p-2.5 pl-10 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none">
                            </div>
                        </div>

                        <div>
                            <div class="w-full">
                                <label class="block text-xs font-semibold text-gray-500 mb-1">Password <span class="text-red-500">*</span></label>
                                <input type="password" required placeholder="Enter Password" class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none">
                            </div>
                            <div class="flex justify-end mt-1">
                                <button type="button" onclick="openModal('reset')" class="text-xs text-blue-500 font-medium hover:underline">Forgot Password</button>
                            </div>
                        </div>

                        <button type="submit" class="w-full py-3 rounded-full text-white font-medium bg-theme hover-bg-theme transition-colors">Sign In</button>
                        
                        <p class="text-xs text-center text-gray-500">
                            Don't have an account with LoadsoR? <button type="button" onclick="switchView('home')" class="text-blue-500 font-medium hover:underline">Sign up</button>
                        </p>
                    </form>

                    <div class="my-8 border-t border-gray-100 pt-8 flex flex-col items-center">
                        <h3 class="text-sm font-bold text-gray-700 mb-2">Log In with QR Code</h3>
                        <p class="text-xs text-gray-400 mb-6">Scan this with the mobile app to log in instantly</p>
                        <div class="border-4 border-gray-800 p-2 rounded-xl bg-white">
                            <i data-lucide="qr-code" class="w-24 h-24 text-gray-800"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- VIEW: Dashboard -->
            <div id="view-dashboard" class="hidden flex-1 p-8 bg-gray-50 fade-in">
                <div class="max-w-6xl mx-auto">
                    <div class="flex items-center justify-between mb-8">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-800">Dashboard</h1>
                            <p class="text-gray-500 text-sm">Welcome back, User!</p>
                        </div>
                        <button class="bg-theme text-white px-4 py-2 rounded-lg text-sm font-medium hover-bg-theme">
                            + Create New Load
                        </button>
                    </div>
            
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                            <div class="flex items-center gap-4 mb-4">
                                <div class="bg-blue-100 p-3 rounded-full text-blue-600"><i data-lucide="truck" class="w-5 h-5"></i></div>
                                <div>
                                    <p class="text-xs text-gray-500 uppercase font-bold">Active Loads</p>
                                    <h3 class="text-2xl font-bold text-gray-800">12</h3>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                            <div class="flex items-center gap-4 mb-4">
                                <div class="bg-green-100 p-3 rounded-full text-green-600"><i data-lucide="shield-check" class="w-5 h-5"></i></div>
                                <div>
                                    <p class="text-xs text-gray-500 uppercase font-bold">Completed</p>
                                    <h3 class="text-2xl font-bold text-gray-800">84</h3>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-2xl shadow-sm border border-gray-100">
                            <div class="flex items-center gap-4 mb-4">
                                <div class="bg-orange-100 p-3 rounded-full text-orange-600"><i data-lucide="credit-card" class="w-5 h-5"></i></div>
                                <div>
                                    <p class="text-xs text-gray-500 uppercase font-bold">Pending Payments</p>
                                    <h3 class="text-2xl font-bold text-gray-800">â‚¹ 45,000</h3>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8 flex flex-col items-center justify-center text-center h-64">
                        <div class="bg-gray-100 p-4 rounded-full mb-4">
                           <i data-lucide="layout" class="w-8 h-8 text-gray-400"></i>
                        </div>
                        <h3 class="text-lg font-bold text-gray-700">No Recent Activity</h3>
                        <p class="text-gray-500 text-sm max-w-xs mt-2">Your recent shipments and tracking details will appear here once you start using the platform.</p>
                    </div>
                </div>
            </div>

        </div>

        <!-- Right Green Sidebar (Static) -->
        <div id="right-panel" class="order-1 lg:order-2 lg:w-[45%] bg-theme min-h-[600px] lg:min-h-[calc(100vh-80px)] p-8 lg:p-12 relative overflow-hidden flex flex-col justify-center">
            <!-- Decorative background circles -->
            <div class="absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-1/2 translate-x-1/3 blur-3xl"></div>
            <div class="absolute bottom-0 left-0 w-96 h-96 bg-black/5 rounded-full translate-y-1/3 -translate-x-1/4 blur-3xl"></div>

            <div class="relative z-10">
                <h2 class="text-3xl lg:text-4xl font-bold text-white mb-12">All-in-One Logistics Platform</h2>
                
                <div class="bg-white/10 p-6 rounded-2xl border border-white/20 backdrop-blur-md mb-10">
                    <div class="flex items-center gap-4 mb-3">
                        <div class="p-2 bg-white/20 rounded-lg">
                            <i data-lucide="package" class="text-white w-6 h-6"></i>
                        </div>
                        <h3 class="text-xl font-bold text-white">Freight Management</h3>
                    </div>
                    <p class="text-sm text-white/80 leading-relaxed">
                        Create, assign, and track loads from one smart dashboard. Plan shipments, assign vehicles, and monitor status in real-time â€” all from one place.
                    </p>
                </div>

                <div class="space-y-2">
                    <div class="flex items-start gap-4 mb-8 text-white/90">
                        <div class="p-3 bg-white/10 rounded-xl backdrop-blur-sm"><i data-lucide="briefcase" class="text-white w-6 h-6"></i></div>
                        <div><h3 class="font-semibold text-lg">Transport Management</h3></div>
                    </div>
                    <div class="flex items-start gap-4 mb-8 text-white/90">
                        <div class="p-3 bg-white/10 rounded-xl backdrop-blur-sm"><i data-lucide="map-pin" class="text-white w-6 h-6"></i></div>
                        <div><h3 class="font-semibold text-lg">Vehicle Tracking</h3></div>
                    </div>
                    <div class="flex items-start gap-4 mb-8 text-white/90">
                        <div class="p-3 bg-white/10 rounded-xl backdrop-blur-sm"><i data-lucide="file-text" class="text-white w-6 h-6"></i></div>
                        <div><h3 class="font-semibold text-lg">E-Way Bill Management</h3></div>
                    </div>
                    <div class="flex items-start gap-4 mb-8 text-white/90">
                        <div class="p-3 bg-white/10 rounded-xl backdrop-blur-sm"><i data-lucide="shield-check" class="text-white w-6 h-6"></i></div>
                        <div><h3 class="font-semibold text-lg">Driver & Vehicle Verification</h3></div>
                    </div>
                    <div class="flex items-start gap-4 mb-8 text-white/90">
                        <div class="p-3 bg-white/10 rounded-xl backdrop-blur-sm"><i data-lucide="credit-card" class="text-white w-6 h-6"></i></div>
                        <div><h3 class="font-semibold text-lg">Check Challan Status</h3></div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- MODAL OVERLAY (Hidden by default) -->
    <div id="modal-overlay" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 overflow-y-auto">
        
        <!-- 1. Reset Password Modal -->
        <div id="modal-reset" class="hidden bg-white rounded-3xl shadow-2xl w-full max-w-md relative animate-in fade-in zoom-in duration-200 my-8">
            <div class="flex items-center justify-between p-6 border-b border-gray-100">
                <h2 class="text-lg font-bold text-gray-800">Reset Password</h2>
                <button onclick="closeModal()" class="p-2 hover:bg-gray-100 rounded-full transition-colors"><i data-lucide="x" class="w-5 h-5 text-gray-500"></i></button>
            </div>
            <div class="p-6 space-y-6">
                <div class="w-full">
                    <label class="block text-xs font-semibold text-gray-500 mb-1">Mobile No.</label>
                    <div class="relative">
                        <span class="absolute left-3 top-2.5 text-lg">ðŸ‡®ðŸ‡³</span>
                        <input type="tel" placeholder="+91 Mobile No." class="w-full p-2.5 pl-10 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none">
                    </div>
                </div>
                <div class="relative flex items-center justify-center">
                    <div class="h-[1px] bg-gray-200 w-full absolute"></div>
                    <span class="bg-white px-2 text-xs text-gray-400 relative z-10">OR</span>
                </div>
                <div class="w-full">
                    <label class="block text-xs font-semibold text-gray-500 mb-1">Email</label>
                    <input type="email" placeholder="username@domain.com" class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none">
                </div>
                <div class="flex justify-end gap-3 mt-6">
                    <button onclick="closeModal()" class="text-red-400 text-sm font-medium px-4">Cancel</button>
                    <button onclick="handleResetSubmit()" class="px-8 py-2 rounded-full bg-[#9abcb6] text-white text-sm font-medium hover-bg-theme">Send</button>
                </div>
            </div>
        </div>

        <!-- 2. Customer Registration Modal -->
        <div id="modal-customer" class="hidden bg-white rounded-3xl shadow-2xl w-full max-w-4xl relative animate-in fade-in zoom-in duration-200 my-8">
            <div class="flex items-center justify-between p-6 border-b border-gray-100">
                <h2 class="text-lg font-bold text-gray-800">Customer / Shipper Registration</h2>
                <button onclick="closeModal()" class="p-2 hover:bg-gray-100 rounded-full transition-colors"><i data-lucide="x" class="w-5 h-5 text-gray-500"></i></button>
            </div>
            <div class="p-6 max-h-[80vh] overflow-y-auto space-y-6">
                <!-- Basic Details -->
                <div class="bg-gray-50/50 p-4 rounded-xl border border-gray-100">
                    <h3 class="text-sm font-bold text-gray-700 mb-4 border-l-4 border-[#409183] pl-2">Basic Details</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="w-full"><label class="block text-xs font-semibold text-gray-500 mb-1">First Name <span class="text-red-500">*</span></label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                        <div class="w-full"><label class="block text-xs font-semibold text-gray-500 mb-1">Last Name</label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                        <div class="w-full"><label class="block text-xs font-semibold text-gray-500 mb-1">Mobile No. <span class="text-red-500">*</span></label><div class="relative"><span class="absolute left-3 top-2.5 text-lg">ðŸ‡®ðŸ‡³</span><input class="w-full p-2.5 pl-10 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div></div>
                        <div class="w-full"><label class="block text-xs font-semibold text-gray-500 mb-1">Whatsapp No. <span class="text-red-500">*</span></label><div class="relative"><span class="absolute left-3 top-2.5 text-lg">ðŸ‡®ðŸ‡³</span><input class="w-full p-2.5 pl-10 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div></div>
                        <div class="md:col-span-2"><label class="block text-xs font-semibold text-gray-500 mb-1">Email <span class="text-red-500">*</span></label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                    </div>
                </div>
                <!-- Contact & Company details placeholders for brevity, keeping structure consistent -->
                 <div class="bg-gray-50/50 p-4 rounded-xl border border-gray-100">
                    <h3 class="text-sm font-bold text-gray-700 mb-4 border-l-4 border-[#409183] pl-2">Address & Company</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                         <div class="md:col-span-2"><label class="block text-xs font-semibold text-gray-500 mb-1">Address <span class="text-red-500">*</span></label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                         <div><label class="block text-xs font-semibold text-gray-500 mb-1">Company Type <span class="text-red-500">*</span></label><select class="w-full p-2.5 border border-gray-300 rounded-lg text-sm bg-white"><option>Select Type</option><option>Private Ltd</option></select></div>
                         <div><label class="block text-xs font-semibold text-gray-500 mb-1">GST Number</label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                    </div>
                 </div>

                <div class="flex justify-end gap-3 mt-8 pt-4 border-t border-gray-100">
                    <button onclick="closeModal()" class="px-6 py-2.5 rounded-full text-red-400 font-medium hover:bg-red-50 text-sm">Cancel</button>
                    <button onclick="handleRegistrationSubmit()" class="px-8 py-2.5 rounded-full bg-[#9abcb6] text-white font-medium text-sm hover-bg-theme transition-colors shadow-sm">Create Account</button>
                </div>
            </div>
        </div>

        <!-- 3. Generic Registration Modal (Used for Transporter, Operator, Broker for simplicity in this HTML demo) -->
        <div id="modal-generic" class="hidden bg-white rounded-3xl shadow-2xl w-full max-w-3xl relative animate-in fade-in zoom-in duration-200 my-8">
            <div class="flex items-center justify-between p-6 border-b border-gray-100">
                <h2 id="generic-modal-title" class="text-lg font-bold text-gray-800">Registration</h2>
                <button onclick="closeModal()" class="p-2 hover:bg-gray-100 rounded-full transition-colors"><i data-lucide="x" class="w-5 h-5 text-gray-500"></i></button>
            </div>
            <div class="p-6 max-h-[80vh] overflow-y-auto space-y-6">
                <div class="bg-gray-50/50 p-4 rounded-xl border border-gray-100">
                    <h3 class="text-sm font-bold text-gray-700 mb-4 border-l-4 border-[#409183] pl-2">Basic Details</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="w-full"><label class="block text-xs font-semibold text-gray-500 mb-1">First Name <span class="text-red-500">*</span></label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                        <div class="w-full"><label class="block text-xs font-semibold text-gray-500 mb-1">Last Name <span class="text-red-500">*</span></label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                        <div class="w-full"><label class="block text-xs font-semibold text-gray-500 mb-1">Mobile No. <span class="text-red-500">*</span></label><div class="relative"><span class="absolute left-3 top-2.5 text-lg">ðŸ‡®ðŸ‡³</span><input class="w-full p-2.5 pl-10 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div></div>
                        <div class="md:col-span-2"><label class="block text-xs font-semibold text-gray-500 mb-1">Email <span class="text-red-500">*</span></label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                        <div class="md:col-span-2"><label class="block text-xs font-semibold text-gray-500 mb-1">Pan No.</label><input class="w-full p-2.5 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-[#409183] outline-none"></div>
                    </div>
                    <div class="flex items-center gap-2 mt-4">
                        <input type="checkbox" id="terms" class="rounded text-[#409183] focus:ring-[#409183]">
                        <label for="terms" class="text-xs text-gray-600">I accept <a href="#" class="text-blue-500">Terms of Service</a> & <a href="#" class="text-blue-500">Privacy Policy</a></label>
                    </div>
                </div>
                <div class="flex justify-end gap-3 mt-8 pt-4 border-t border-gray-100">
                    <button onclick="closeModal()" class="px-6 py-2.5 rounded-full text-red-400 font-medium hover:bg-red-50 text-sm">Cancel</button>
                    <button onclick="handleRegistrationSubmit()" class="px-8 py-2.5 rounded-full bg-[#9abcb6] text-white font-medium text-sm hover-bg-theme transition-colors shadow-sm">Create Account</button>
                </div>
            </div>
        </div>

    </div>

    <!-- JavaScript Logic -->
    <script>
        let isLoggedIn = false;
        
        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();
            renderAuthButtons();
        });

        // --- View Navigation ---
        function switchView(viewName) {
            // Hide all views
            document.getElementById('view-home').classList.add('hidden');
            document.getElementById('view-signin').classList.add('hidden');
            document.getElementById('view-dashboard').classList.add('hidden');
            
            // Layout Management
            const leftCol = document.getElementById('left-column');
            const rightPanel = document.getElementById('right-panel');
            
            if (viewName === 'dashboard') {
                if(!isLoggedIn) {
                    // Guard: Redirect to signin if not logged in
                    switchView('signin');
                    return;
                }
                document.getElementById('view-dashboard').classList.remove('hidden');
                leftCol.classList.remove('lg:w-[55%]');
                leftCol.classList.add('w-full');
                rightPanel.classList.add('hidden');
            } else {
                leftCol.classList.add('lg:w-[55%]');
                leftCol.classList.remove('w-full');
                rightPanel.classList.remove('hidden');
                
                if (viewName === 'home') {
                    document.getElementById('view-home').classList.remove('hidden');
                } else if (viewName === 'signin') {
                    document.getElementById('view-signin').classList.remove('hidden');
                }
            }
            
            // Re-initialize icons just in case
            lucide.createIcons();
            
            // Update Navbar State
            document.getElementById('nav-dashboard').classList.toggle('text-[#409183]', viewName === 'dashboard');
            document.getElementById('nav-dashboard').classList.toggle('font-bold', viewName === 'dashboard');
            
            window.scrollTo(0, 0);
        }

        // --- Authentication ---
        function handleLogin(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button[type="submit"]');
            btn.innerHTML = "Logging in...";
            
            setTimeout(() => {
                isLoggedIn = true;
                btn.innerHTML = "Sign In";
                renderAuthButtons();
                switchView('dashboard');
            }, 800);
        }

        function handleLogout() {
            isLoggedIn = false;
            renderAuthButtons();
            switchView('signin');
        }

        function renderAuthButtons() {
            const desktopContainer = document.getElementById('auth-buttons-container');
            const mobileContainer = document.getElementById('mobile-auth-links');
            
            if (isLoggedIn) {
                // Desktop Logged In
                desktopContainer.innerHTML = `
                    <div class="flex items-center gap-4">
                        <div class="flex items-center gap-2 text-sm font-bold text-gray-700">
                            <div class="bg-gray-100 p-2 rounded-full"><i data-lucide="user" class="w-4 h-4"></i></div>
                            <span>User</span>
                        </div>
                        <button onclick="handleLogout()" class="text-red-500 text-sm font-medium hover:text-red-700">Logout</button>
                    </div>
                `;
                // Mobile Logged In
                mobileContainer.innerHTML = `
                     <button onclick="handleLogout()" class="text-left font-medium text-red-500">Logout</button>
                `;
            } else {
                // Desktop Logged Out
                desktopContainer.innerHTML = `
                    <button onclick="switchView('home')" class="px-5 py-2 rounded-full text-sm font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors">Free Sign Up</button>
                    <button onclick="switchView('signin')" class="px-6 py-2 rounded-full text-white text-sm font-medium bg-theme hover-bg-theme">Sign In</button>
                `;
                // Mobile Logged Out
                mobileContainer.innerHTML = `
                    <button onclick="switchView('home'); toggleMobileMenu()" class="text-left font-medium text-[#409183]">Free Sign Up</button>
                    <button onclick="switchView('signin'); toggleMobileMenu()" class="text-left font-medium">Sign In</button>
                `;
            }
            lucide.createIcons();
        }

        // --- Mobile Menu ---
        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        // --- Modals ---
        function openModal(type) {
            const overlay = document.getElementById('modal-overlay');
            const modals = overlay.children;
            
            // Hide all specific modals first
            for(let modal of modals) {
                modal.classList.add('hidden');
            }
            
            overlay.classList.remove('hidden');
            
            if (type === 'reset') {
                document.getElementById('modal-reset').classList.remove('hidden');
            } else if (type === 'customer') {
                document.getElementById('modal-customer').classList.remove('hidden');
            } else {
                // Using generic modal for others to save HTML space, creating title dynamically
                const genericModal = document.getElementById('modal-generic');
                const title = document.getElementById('generic-modal-title');
                genericModal.classList.remove('hidden');
                
                if (type === 'transporter') title.innerText = "Transporter / Booking Agent Registration";
                if (type === 'operator') title.innerText = "Truck Operator / Fleet Owner Registration";
                if (type === 'broker') title.innerText = "Broker / Truck Supplier";
            }
            lucide.createIcons();
        }

        function closeModal() {
            document.getElementById('modal-overlay').classList.add('hidden');
        }

        function handleRegistrationSubmit() {
            alert("Account created successfully! Please Sign In.");
            closeModal();
            switchView('signin');
        }

        function handleResetSubmit() {
            alert("Password reset link sent to your mobile/email.");
            closeModal();
        }

    </script>
</body>
</html>

